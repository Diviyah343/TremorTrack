:root {
  --accent: #012a6b; /* dark navy */
  --accent-2: #06b6d4; /* cyan */
  --accent-3: #a5f3fc; /* light cyan */
  --bg: linear-gradient(180deg,#ffffff 0%, #fbfdff 100%); /* light / white background */
  --page-bg: linear-gradient(180deg,#ffffff 0%, #fbfdff 100%);
  --muted: #8aa8b8;
  --glass: rgba(6,182,212,0.06);
  --success: #16a34a;
  --warn: #f97316;
  --danger: #ef4444;
  --font-sans: 'Open Sans', 'Noto Sans', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;  /* site UI/body font */
  --text: #071330;
  --card-bg: #ffffff;
  --viz-btn-text: #071330;
  --hero-grad-1: var(--accent);
  --hero-grad-2: var(--accent-2);
  --hero-grad-3: var(--accent-3);
}
 
*{box-sizing:border-box}
html{scroll-behavior:smooth}
html,body{height:100%}
body{font-family:var(--font-sans), Inter, system-ui, Arial; margin:0; background:var(--bg); color:var(--text); -webkit-font-smoothing:antialiased; scroll-behavior: smooth;}
header{
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  color:white;
  padding:18px 24px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  box-shadow: 0 6px 20px rgba(7,19,38,0.14);
  border-bottom-left-radius:12px;
  border-bottom-right-radius:12px;
  position:relative;
}

/* Removed bottom fade for the header ribbon to keep a solid ribbon look */


header h1{
  margin:0;
  font-size:20px;
  font-weight:700;
  font-family: 'DM Sans', 'Notable', 'Victor Mono', sans-serif; /* match hero title */
  letter-spacing: -0.4px;
}
nav{display:flex; align-items:center}
nav button{margin-left:8px; background:transparent; border:1px solid rgba(6,182,212,0.18); padding:8px 12px; border-radius:8px; cursor:pointer; color:white; transition:all .18s ease}
nav button:hover{transform:translateY(-2px); box-shadow:0 6px 18px rgba(6,182,212,0.08)}
nav button.active{background:linear-gradient(90deg, rgba(6,182,212,0.12), rgba(6,182,212,0.06))} 
main{max-width:1000px; margin:28px auto; padding:0 16px}
.page{background:var(--page-bg); padding:22px; border-radius:12px; margin-bottom:18px; box-shadow:0 6px 18px rgba(16,24,40,0.06)}
.hidden{display:none}
.hero{display:flex; gap:20px; align-items:center; justify-content:space-between; padding:18px}
.hero-text h2{margin:0 0 8px 0; font-size:20px}
.hero-text p{margin:0 0 12px 0; color:var(--muted)}
.hero-actions button{margin-right:8px}

/* Intro, Symptoms, Age, CTA layout */
.intro{padding:6px 4px 14px 4px}
.intro h2{margin:0 0 8px 0}
.intro p{margin:0; color:var(--muted)}

/* Left-aligned hero spotlight (big, bold, left-aligned) */
/* Increase spacing from the header and push the card further down */
.hero-spotlight{padding:18px 0 6px; margin-top:160px; margin-bottom:6px}
.hero-spotlight-inner{max-width:1000px; margin:0 auto; display:flex; align-items:flex-start; position:relative}
.hero-spotlight-text{flex:1; text-align:left; position:relative; z-index:2}

/* Hero canvas background */
.hero-bg{position:absolute; inset:0; width:100%; height:100%; z-index:1; pointer-events:none; opacity:0.95; background: radial-gradient(circle at 8% 10%, rgba(6,182,212,0.03), transparent 30%)}
@media (prefers-reduced-motion: reduce){ .hero-bg{display:none} }
/* Slightly reduce the title and quote size while keeping them prominent */
.hero-title{font-family: 'DM Sans', 'Notable', 'Victor Mono', sans-serif; font-size:clamp(36px, 8vw, 110px); margin:0 0 10px; font-weight:900; font-variation-settings: 'wght' 900; letter-spacing:-0.6px; line-height:1; background: linear-gradient(90deg, var(--hero-grad-1) 0%, var(--hero-grad-2) 50%, var(--hero-grad-3) 100%); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; color: transparent; background-size: 200% 200%; animation: gradientShift 6s linear infinite; transform-origin: left center; transform: scaleX(var(--hero-width,1)); -webkit-font-smoothing:antialiased;}

/* Per-letter variable width */
.hero-title .hero-char{display:inline-block; transform-origin:center; transform:scaleX(var(--w,1)); transition:transform .28s cubic-bezier(.2,.9,.2,1); will-change:transform; background: inherit; -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; color: transparent;}
.hero-title .hero-char:hover{transform:scaleX(calc(var(--w,1) * 1.08))}
/* Allow controlled width variation via --hero-width (1 = normal). Example: .hero-title{ --hero-width:1.06 } */
@keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.hero-sub{font-size:clamp(16px, 3.2vw, 28px); margin:0 0 20px; color:var(--muted); font-weight:700; font-family: 'DM Sans', 'Notable', 'Victor Mono', sans-serif; }
.hero-spotlight-cta{display:flex; gap:12px; margin-top:6px}

/* Scroll hint under the hero */
.scroll-hint{display:inline-flex; align-items:center; gap:8px; margin-top:18px; color:var(--muted); font-size:13px; cursor:pointer; user-select:none}
.scroll-hint:focus{outline:2px solid rgba(6,182,212,0.12); border-radius:6px} 
.scroll-hint .scroll-arrow{color:var(--muted); transition:transform .24s ease}
.scroll-hint:hover .scroll-arrow{transform:translateY(4px)}
.scroll-hint .scroll-arrow{animation:scrollBounce 1.6s cubic-bezier(.2,.9,.2,1) infinite}
@keyframes scrollBounce{0%{transform:translateY(0)}50%{transform:translateY(6px)}100%{transform:translateY(0)}}

/* Push the white home card further down to match the larger top spacing */
#home.page{
  background: transparent;
  padding: 0;
  border-radius: 0;
  box-shadow: none;
  margin-top: 420px;
}
@media(max-width:1100px){ #home.page{margin-top:300px} }
@media(max-width:820px){ .hero-title{font-size:clamp(28px, 10vw, 64px)} .hero-sub{font-size:18px} .hero-spotlight{padding:12px 0; margin-top:80px} .hero-spotlight-inner{padding:0 12px} #home.page{margin-top:160px} }

/* Home information blocks */
.home-info{margin-top:16px}
.home-info h3{margin:0 0 8px 0; font-size:18px}
.home-info .lead{font-weight:600; color:#0f172a; margin-bottom:8px}
.home-info h4{margin-top:12px; margin-bottom:6px}

/* Flash cards under the intro paragraph */
.flash-cards{display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:22px; margin-top:48px; margin-bottom:32px}
.flash-card{background:var(--card-bg); padding:14px; border-radius:10px; box-shadow:0 8px 24px rgba(16,24,40,0.06); border-left:4px solid rgba(6,182,212,0.12); color:var(--text); min-height:84px; display:flex; flex-direction:column; justify-content:center; transition:transform .12s ease, box-shadow .12s ease}
.flash-card h5{margin:0 0 6px 0; font-size:16px}
.flash-card p{margin:0; color:var(--muted); font-size:13px}
.flash-card:hover{transform:translateY(-4px); box-shadow:0 12px 30px rgba(6,182,212,0.08)}
@media(max-width:520px){ .flash-cards{grid-template-columns:1fr; gap:16px; margin-top:28px; margin-bottom:20px} }
.approach{margin:8px 0 0 18px}
.who{margin:8px 0 0 18px}
.disclaimer{background:linear-gradient(180deg,#fff8f6,#fff); border-left:4px solid rgba(239,68,68,0.12); padding:10px; border-radius:8px; margin-top:12px; color:#38221b}
.disclaimer strong{color:#ef4444}


.symptoms-section{margin-top:18px}
.symptoms-section h3{margin:0 0 10px 0}
.symptoms-grid{display:grid; grid-template-columns:repeat(3,1fr); gap:12px}
.symptom-card{display:flex; gap:12px; padding:12px; align-items:flex-start; border-radius:10px; background:linear-gradient(180deg,#ffffff,#fbfdff); box-shadow:0 6px 18px rgba(16,24,40,0.04)}
.symptom-card .icon{color:var(--accent); flex-shrink:0}
.symptom-card strong{display:block}

.age-section{margin-top:18px; padding:12px; border-radius:10px; background:linear-gradient(180deg,#f8fbff,#ffffff); box-shadow:inset 0 -1px 0 rgba(255,255,255,0.8)}

.home-cta{margin-top:18px; display:flex; gap:12px; align-items:center; justify-content:space-between}
.home-cta .small{margin:0 12px 0 0}
.cta-actions{display:flex; gap:10px}

/* Tests area styles */
.tests-nav{display:flex; gap:8px; margin:12px 0}
.test-tab{padding:8px 10px; border-radius:8px}
.test-view{padding:18px 0; border-top:1px dashed rgba(15,23,42,0.04); margin-top:14px}
.test-view.flash{animation:flashBG .7s ease}
@keyframes flashBG{0%{background:linear-gradient(90deg,#fff8e7, #fff)}100%{background:transparent}}
.tap-zone{width:140px; height:140px; border-radius:14px; font-size:20px; border:1px solid rgba(15,23,42,0.06); display:flex; align-items:center; justify-content:center; background:linear-gradient(180deg,#fff,#fbfdff)}
.tap-zone.active{background:linear-gradient(180deg,var(--accent),var(--accent-2)); color:white; border:none; box-shadow:0 8px 18px rgba(6,182,212,0.18); transform:translateY(-3px)}
.tap-zone.shake{animation:shake .22s ease}
@keyframes shake{0%{transform:translateX(0)}20%{transform:translateX(-6px)}60%{transform:translateX(6px)}100%{transform:translateX(0)}}
.tapping-area{display:flex; gap:12px; align-items:center}
.tapping-controls{margin-top:8px}
.hold-area{display:flex; justify-content:center; padding:18px}
.hold-dot{width:90px; height:90px; border-radius:999px; background:linear-gradient(180deg,#fff,#f8fbff); border:3px dashed rgba(6,182,212,0.16); box-shadow:0 8px 20px rgba(6,182,212,0.06); cursor:pointer} 
.line-controls{margin-top:8px}
#targetArea{width:100%;min-height:160px; border-radius:10px; background:linear-gradient(180deg,#fff,#fbfdff); border:1px dashed rgba(15,23,42,0.03); position:relative}
.target-dot{width:64px;height:64px;border-radius:999px;background:var(--accent);position:absolute;display:flex;align-items:center;justify-content:center;color:white;cursor:pointer;z-index:20;box-shadow:0 8px 22px rgba(6,182,212,0.14); font-weight:700} 
.target-dot .ttl{font-size:14px; font-weight:700}
.target-dot:active{transform:scale(0.96)}
@media(max-width:520px){ .target-dot{width:56px;height:56px} .target-dot .ttl{font-size:12px} }
.rep-controls{margin-top:8px}

@media(max-width:820px){
  .symptoms-grid{grid-template-columns:1fr}
  .home-cta{flex-direction:column; align-items:flex-start}
  .tapping-area{flex-direction:column}
}
/* Carousel styles removed */

/* CTA shimmer */
.primary{position:relative; overflow:hidden}
.primary::after{content:''; position:absolute; left:-40%; top:0; width:40%; height:100%; background:linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.55) 50%, rgba(255,255,255,0) 100%); transform:skewX(-20deg); transition:all .9s ease; opacity:0}
.primary:hover::after{left:120%; opacity:1; transition:none}
/* small entrance fade for the page hero (now unified with global entrance animation) */
.hero{animation:inFromBelow .56s cubic-bezier(.2,.9,.2,1) both}

/* Global entrance animation for pages, cards, and sections */
.animate-in{animation:inFromBelow .56s cubic-bezier(.2,.9,.2,1) both}
@keyframes inFromBelow{0%{opacity:0; transform:translateY(10px) scale(.995)}100%{opacity:1; transform:translateY(0) scale(1)}}

/* subtle fade-only utility */
.fade-in{animation:fadeIn .5s ease both}
@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}

@media(max-width:820px){ .hero{flex-direction:column} }
/* Theme overrides for dark mode */
[data-theme="dark"]{
  --bg: linear-gradient(180deg,#071022 0%, #071422 100%);
  --page-bg: linear-gradient(180deg,#071022 0%, #0b1220 100%);
  --text: #e6f0f7;
  --muted: #9fb9c8;
  --accent: #3ec5d9;
  --accent-2: #06b6d4;
  --accent-3: #11586b;
  --glass: rgba(6,182,212,0.12);
  --card-bg: #0b1220;
  --viz-btn-text: #ffffff;
  /* ensure hero title remains visible in dark mode (fallback when gradient clipping isn't available) */
  --hero-fallback-color: var(--text);
  /* Animated gradient for dark theme: dark blue -> cyan -> light cyan */
  --hero-grad-1: #0b2b4a; /* dark blue */
  --hero-grad-2: #06b6d4; /* cyan */
  --hero-grad-3: #a5f3fc; /* light cyan */
}

/* Fallback for browsers that don't support background-clip:text: use a solid color */
@supports not (-webkit-background-clip: text) {
  .hero-title, .hero-title .hero-char{ color: var(--hero-fallback-color, var(--text)); -webkit-text-fill-color: var(--hero-fallback-color, var(--text)); }
}

.primary{background: linear-gradient(90deg,var(--accent),var(--accent-2)); color:white; border:none; padding:10px 14px; border-radius:10px; box-shadow: 0 6px 18px rgba(6,182,212,0.18); cursor:pointer; transition:transform .12s ease} 
.primary:hover{transform:translateY(-3px)}
.outline{background:transparent; border:1px solid rgba(6,182,212,0.16); color:var(--accent); padding:10px 14px; border-radius:10px}
.outline:hover{background:linear-gradient(90deg,var(--accent-2),var(--accent)); color:white; border-color:transparent; box-shadow:0 8px 22px rgba(6,182,212,0.12)} 
.controls{margin:12px 0}
.controls button{padding:10px 14px; margin-right:8px; border-radius:10px; border:1px solid rgba(15,23,42,0.06); background:linear-gradient(180deg, #fff, #f8fbff)}
.status{margin:10px 0; color:var(--muted)}
.status.ok{color:var(--success)}
.status.warn{color:var(--warn)}
.result{transition:transform .12s ease}
.result p{margin:6px 0}
.form-row{display:flex; gap:12px}
.list{list-style:none; padding:0}
.list li{padding:12px 14px; border:1px solid rgba(15,23,42,0.04); margin-bottom:10px; border-radius:8px; display:flex; justify-content:space-between; align-items:center; background:linear-gradient(180deg,#ffffff,#fbfdff)}
.charts{display:grid; grid-template-columns:1fr 1fr; gap:16px}
.chart-card{background:linear-gradient(180deg,#f4f9ff,#ffffff); padding:14px; border-radius:10px; box-shadow: inset 0 -1px 0 rgba(255,255,255,0.6)}
.actions{margin-top:16px}
/* Visualize buttons (specific) should follow theme-aware text color */
#addSampleData, #clearData { color: var(--viz-btn-text); }
/* Trace canvas styles */
.canvas-wrap{width:100%; max-width:420px; height:auto; margin:12px 0; border-radius:12px; overflow:hidden; box-shadow:0 10px 30px rgba(16,24,40,0.06); background:linear-gradient(180deg,#ffffff,#fbfdff); display:flex; align-items:center; justify-content:center}
#traceCanvas{width:100%; height:auto; max-width:360px; max-height:360px; background:transparent; touch-action:none}
.trace-controls button{min-width:96px}
.trace-area .small{margin-top:6px}
footer{text-align:center; padding:12px; color:var(--muted)}
@media(max-width:820px){.hero{flex-direction:column; align-items:flex-start}.charts{grid-template-columns:1fr}.hero-art{align-self:center}}
/* Ensure all buttons use the site UI font for consistency */
button, .primary, .outline, .tap-zone, .target-dot{
  font-family: var(--font-sans);
  font-weight: 600;
  font-size: 14px;
  line-height: 1;
}

/* Visual press feedback for CTAs */
.hero-spotlight-cta button.cta-pressed{ transform: translateY(1px) scale(0.995); box-shadow: 0 4px 10px rgba(6,182,212,0.06) !important; opacity:0.96 }
.hero-spotlight-cta button:active{ transform: translateY(1px) scale(0.995); }

button{border-radius:10px; border:1px solid #e6eef9; background:var(--card-bg); cursor:pointer}

/* utility: screen-reader-only */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0}

/* theme icon inside toggle */
#themeToggle img{width:18px;height:18px;display:inline-block;vertical-align:middle}
input, textarea, select{width:100%; padding:8px; border:1px solid #e6eef9; border-radius:8px}
.small{font-size:12px; color:var(--muted)}
.badge-auto{display:inline-block; background:rgba(6,182,212,0.12); color:var(--accent-2); padding:2px 8px; border-radius:999px; font-size:11px; margin-left:8px} 
